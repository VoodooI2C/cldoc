dist: trusty

language: python

python:
  - "2.7"

env:
  - NODE_VERSION="6"

before_install:
  - sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test
  - curl https://apt.llvm.org/llvm-snapshot.gpg.key | sudo apt-key add -
  - echo "deb http://apt.llvm.org/trusty/ llvm-toolchain-trusty-5.0 main" | sudo tee -a /etc/apt/sources.list
  - sudo apt-get update -qq
  - sudo apt-get install -y libclang1-5.0
  - nvm install $NODE_VERSION
  - node --version

install:
  - (cd cldoc-static && npm install)
  - pip install .

script:
  - make tests
